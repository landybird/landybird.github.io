---
title: peewee的使用                        
description: peewee的使用
categories:
- python
tags:
- python   
---

`peewee` 可以完全可以应付个人或企业的`中小型项目的 Model 层`，上手容易，功能很强大


#### `pwiz`  a model generator


peewee可以通过定义Model直接在数据库中创建表
反过来也可以，用数据库中已经存在的表创建Model

|参数|解释|举例|
|---|---|---|
|-h|help 显示帮助|---|
|-e|engine 数据库引擎|-e mysql|
|-H|host 数据库地址|-H localhost|
|-p|port 数据库端口|-p 3306|
|-u|user 数据库用户|-u user|
|-P|password 数据库密码|-P |
|-s|schema 模式|-s public |
|-t|tables 指定生成来自表格 |-t tweet,users,relationships |
|-v|VIEWs 指定生成来自视图|-v |
|-o|order 保留表格列顺序|-o |

    
    当前 engine支持的数据库：
    
        sqlite
        mysql
        postgresql


命令行语句

    $ python -m pwiz -e mysql -H localhost -p 3306 -u root -P  -t table_names database_name > model.py



#### `Playhouse`库, 数据类型转换


`model_to_dict`

`dict_to_model`



```python
from playhouse.shortcuts import model_to_dict, dict_to_model

# ……

if __name__ == "__main__":
    # ……
    user = User.create(username='jack')
    # 把数据对象转成字典
    u = model_to_dict(user)    
    print(u)

```
